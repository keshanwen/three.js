### 代码生成模型基本思路

有些应用场景，可能需要程序员自己代码生成模型。

1. 首先可以查文档看看three.js提供的长方体、圆柱等几何体API是否满足需求。

2. 如果不满足，就需要自己自定义几何体，也就是通过代码计算出几何体的各种顶点数据


### 自定义Geometry必要性

three.js提供的各类几何体Geometry API不一定刚好满足需求，这时候，可能就需要自己通过基类`BufferGeometry`，根据需要自定义几何体Geometry的顶点位置position坐标、顶点UV坐标、顶点法向量、顶点颜色等数据。

### 学习建议

如果你对几何体顶点数据不了解，学习本节课有点吃力，建议学习下three.js基础课程中第二章节关于`BufferGeometry`的介绍。


### 本节课内容

已知多边形顶点轮廓坐标，构建出来一个围墙形状几何体。
```javascript
var c = [
  0, 0, //顶点1坐标
  60, 0, //顶点2坐标
  60, 80, //顶点3坐标
  40, 120, //顶点4坐标
  -20, 80, //顶点5坐标
  0, 0, //顶点6坐标  和顶点1重合
]

var geometry = new THREE.BufferGeometry(); //声明一个空几何体对象
var posArr = [];
var h = 20; //围墙拉伸高度
for (var i = 0; i < c.length - 2; i += 2) {
for (var i = 0; i < c.length - 2; i += 2) {
  // 三角形1  三个顶点坐标
  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], 0, c[i + 2], c[i + 3], h);
  // 三角形2  三个顶点坐标
  posArr.push(c[i], c[i + 1], 0, c[i + 2], c[i + 3], h, c[i], c[i + 1], h);
}
}
// 设置几何体attributes属性的位置position属性
geometry.attributes.position = new THREE.BufferAttribute(new Float32Array(posArr), 3);
```



